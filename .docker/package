# Copyright (C) 2021 Edge Network Technologies Limited
# Use of this source code is governed by a GNU GPL-style license
# that can be found in the LICENSE.md file. All rights reserved.

FROM alpine:latest

ARG REGISTRY

RUN apk add bash

COPY --from=registry.edge.network/internal/cli-x64 /cli/bin/edge-linux /cli/bin/edge-linux-x64
COPY --from=registry.edge.network/internal/cli-x64 /cli/bin/edge-windows.exe /cli/bin/edge-windows-x64.exe
COPY --from=registry.edge.network/internal/cli-x64 /cli/bin/edge-macos /cli/bin/edge-macos-x64

COPY --from=registry.edge.network/internal/cli-arm64 /cli/bin/edge-linux /cli/bin/edge-linux-arm64
COPY --from=registry.edge.network/internal/cli-arm64 /cli/bin/edge-windows.exe /cli/bin/edge-windows-arm64.exe
COPY --from=registry.edge.network/internal/cli-arm64 /cli/bin/edge-macos /cli/bin/edge-macos-arm64

RUN ls -al /cli/bin

# COPY ./entrypoint.sh ./entrypoint.sh
# CMD ["bash", "./entrypoint.sh"]
